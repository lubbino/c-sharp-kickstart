# Chapter 05: Input/Output

## Learning Objectives

By the end of this chapter, you will be able to:

- Get input from users using `Console.ReadLine()`
- Convert user input from strings to numbers
- Validate user input and handle errors gracefully
- Create interactive programs that respond to user input
- Format output in clear and user-friendly ways
- Build simple interactive applications

## Introduction

So far, your programs have worked with fixed values that you wrote in the code. But real programs need to interact with users - getting information from them and responding accordingly. This chapter teaches you how to make your programs interactive.

## Getting User Input

### Basic Input with Console.ReadLine()

The `Console.ReadLine()` method reads a line of text that the user types:

```csharp
using System;

Console.WriteLine("What is your name?");
string name = Console.ReadLine();
Console.WriteLine("Hello, " + name + "!");
```

When this program runs:
1. It displays "What is your name?"
2. It waits for the user to type something and press Enter
3. It stores what they typed in the `name` variable
4. It displays a personalized greeting

### Important: ReadLine() Returns a String

`Console.ReadLine()` always returns a `string`, even if the user types numbers:

```csharp
Console.WriteLine("Enter your age:");
string ageText = Console.ReadLine();  // This is text, not a number
Console.WriteLine("You entered: " + ageText);
```

## Converting Input to Numbers

To use numbers that users enter, you must convert them from strings:

### Converting to Integers

```csharp
using System;

Console.WriteLine("Enter your age:");
string ageText = Console.ReadLine();
int age = int.Parse(ageText);

Console.WriteLine("Next year you will be " + (age + 1) + " years old.");
```

### Converting to Decimal Numbers

```csharp
using System;

Console.WriteLine("Enter the temperature:");
string tempText = Console.ReadLine();
double temperature = double.Parse(tempText);

Console.WriteLine("That's " + (temperature * 9/5 + 32) + " degrees Fahrenheit.");
```

### Safe Conversion with TryParse

Sometimes users enter invalid input. Use `TryParse` to handle this safely:

```csharp
using System;

Console.WriteLine("Enter a number:");
string input = Console.ReadLine();

if (int.TryParse(input, out int number))
{
    Console.WriteLine("You entered: " + number);
    Console.WriteLine("Double that is: " + (number * 2));
}
else
{
    Console.WriteLine("That's not a valid number!");
}
```

## Input Validation

Always validate user input to make your programs robust:

### Checking for Empty Input

```csharp
using System;

Console.WriteLine("Enter your name:");
string name = Console.ReadLine();

if (string.IsNullOrEmpty(name))
{
    Console.WriteLine("You didn't enter a name!");
}
else
{
    Console.WriteLine("Hello, " + name + "!");
}
```

### Validating Number Ranges

```csharp
using System;

Console.WriteLine("Enter your age (0-120):");
string input = Console.ReadLine();

if (int.TryParse(input, out int age))
{
    if (age >= 0 && age <= 120)
    {
        Console.WriteLine("Your age is: " + age);
    }
    else
    {
        Console.WriteLine("Age must be between 0 and 120!");
    }
}
else
{
    Console.WriteLine("Please enter a valid number!");
}
```

## Interactive Programs

### Simple Calculator

```csharp
using System;

Console.WriteLine("Simple Calculator");
Console.WriteLine("================");

Console.WriteLine("Enter first number:");
double num1 = double.Parse(Console.ReadLine());

Console.WriteLine("Enter second number:");
double num2 = double.Parse(Console.ReadLine());

Console.WriteLine("Choose operation (+, -, *, /):");
string operation = Console.ReadLine();

double result = 0;
bool validOperation = true;

if (operation == "+")
{
    result = num1 + num2;
}
else if (operation == "-")
{
    result = num1 - num2;
}
else if (operation == "*")
{
    result = num1 * num2;
}
else if (operation == "/")
{
    if (num2 != 0)
    {
        result = num1 / num2;
    }
    else
    {
        Console.WriteLine("Cannot divide by zero!");
        validOperation = false;
    }
}
else
{
    Console.WriteLine("Invalid operation!");
    validOperation = false;
}

if (validOperation)
{
    Console.WriteLine(num1 + " " + operation + " " + num2 + " = " + result);
}
```

> **ðŸ‹ï¸ Practice Now**: Complete [Exercise 05-01: User Information Collector](../../exercises/05-io/01-user-info-collector/) to build an interactive program that collects and displays user information using the concepts you've learned.

## Formatting Output

### Using String Interpolation

C# offers a cleaner way to format strings with variables:

```csharp
string name = "Alice";
int age = 17;
double height = 165.5;

// Old way (string concatenation)
Console.WriteLine("Name: " + name + ", Age: " + age + ", Height: " + height + "cm");

// New way (string interpolation)
Console.WriteLine($"Name: {name}, Age: {age}, Height: {height}cm");
```

### Formatting Numbers

```csharp
double price = 19.99;
double percentage = 0.85;

Console.WriteLine($"Price: ${price:F2}");           // $19.99 (2 decimal places)
Console.WriteLine($"Success rate: {percentage:P}"); // 85.00% (percentage)
Console.WriteLine($"Large number: {1234567:N}");    // 1,234,567 (with commas)
```

## Hands-On Practice

Now it's time to apply what you've learned about input/output operations:

### Exercise Progression

1. **[Exercise 05-01: User Information Collector](../../exercises/05-io/01-user-info-collector/)** - Practice getting user input, type conversion, and string interpolation
2. **[Exercise 05-02: Safe Input Calculator](../../exercises/05-io/02-safe-input-calculator/)** - Build a calculator with basic input validation and error handling

These exercises will help you master interactive programming and input validation techniques.

> **ðŸ’¡ Learning Tip**: Always consider what happens if users enter unexpected input. Good programs handle errors gracefully and guide users to correct input.

## Common Mistakes

### Forgetting to Convert Input

```csharp
// Wrong - trying to do math with strings
string ageText = Console.ReadLine();
int nextYear = ageText + 1;  // Error! Can't add number to string

// Correct - convert first
string ageText = Console.ReadLine();
int age = int.Parse(ageText);
int nextYear = age + 1;
```

### Not Handling Invalid Input

```csharp
// Risky - program crashes if user enters "abc"
int age = int.Parse(Console.ReadLine());

// Better - handle invalid input
if (int.TryParse(Console.ReadLine(), out int age))
{
    // Use age here
}
else
{
    Console.WriteLine("Invalid input!");
}
```

### Case Sensitivity Issues

```csharp
string answer = Console.ReadLine();

// Wrong - only matches exact case
if (answer == "yes")

// Better - handle different cases
if (answer.ToLower() == "yes")
```

## Best Practices

### Clear Prompts

```csharp
// Good - clear and specific
Console.WriteLine("Enter your age (whole number between 0 and 120):");

// Poor - vague
Console.WriteLine("Age?");
```

### Validate All Input

```csharp
// Always check if input is valid
if (int.TryParse(input, out int number) && number >= 0)
{
    // Process valid input
}
else
{
    Console.WriteLine("Please enter a positive number.");
}
```

### Provide Feedback

```csharp
Console.WriteLine("Enter your name:");
string name = Console.ReadLine();

if (!string.IsNullOrEmpty(name))
{
    Console.WriteLine($"Hello, {name}! Nice to meet you.");
}
else
{
    Console.WriteLine("You didn't enter a name. Using 'Guest' instead.");
    name = "Guest";
}
```

## Summary

In this chapter, you learned:

- **`Console.ReadLine()`** gets text input from users
- **Type conversion** is needed to use numbers (`int.Parse()`, `double.Parse()`)
- **Input validation** prevents crashes and improves user experience
- **`TryParse()`** safely converts input and handles errors
- **String interpolation** (`$"text {variable}"`) formats output cleanly
- **Interactive programs** respond to user choices and input

## Next Steps

In the next chapter, we'll learn about **selections** - using `if`, `else`, and `switch` statements to make decisions based on user input and other conditions.

## Key Terms

- **Input**: Information that users provide to a program
- **Output**: Information that a program displays to users
- **`Console.ReadLine()`**: Method that reads a line of text from the user
- **Type Conversion**: Changing data from one type to another
- **Input Validation**: Checking if user input is valid before using it
- **`TryParse()`**: Safe method for converting strings to numbers
- **String Interpolation**: Embedding variables in strings using `$"text {variable}"`